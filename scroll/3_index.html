<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background: #131316;
            color: #fff;
            padding: 0;
            margin: 0;
        }

        section {
            display: grid;
            place-items: center;
            align-content: center;
            min-height: 100vh;
        }

        .hidden {
            opacity: 0;
            filter: blur(5px);
            transform: translateX(-100%);
            transition: all 1s;
        }

        @media (prefers-reduced-motion) {
            .hidden {
                transition: none;
            }

        }

        .show {
            opacity: 1;
            filter: blur(0);
            transform: translateX(0);
        }

        .logos {
            display: flex;
            gap: 30px;
        }

        .logo {
            border-radius: 30px;
            overflow: hidden;
        }

        .logo:nth-child(2) {
            transition-delay: .6s;
        }

        .logo:nth-child(3) {
            transition-delay: 1s;
        }
    </style>
</head>
<body>
    <h1>Hellow World</h1>
    <section class="hidden">
        <h1>Hi Mom</h1>
        <p>This is my Website</p>
    </section>
    <section class="hidden">
        <h1>Buy my product</h1>
        <p>The things you own end up owning you.
            It's only after you lose everything that you're free to do anything
        </p>
    </section>
    <section class="hidden">
        <h2>It's really good</h2>
        <div class="logos">
            <div class="logo hidden">
                <img src="./img/1.png" alt="">
            </div>
            <div class="logo hidden">
                <img src="./img/2.png" alt="">
            </div>
            <div class="logo hidden">
                <img src="./img/3.png" alt="">
            </div>
        </div>
    </section>

    <P>
        주어진 코드는 Intersection Observer를 사용하여 요소의 가시성을 관찰하고, 가시성 여부에 따라 클래스를 추가하거나 제거하는 기능을 구현하는 부분입니다.

        먼저 IntersectionObserver 객체를 생성하고, 콜백 함수를 전달합니다. 이 콜백 함수는 entries라는 매개변수를 받아와서 처리합니다. entries는 관찰 대상 요소의 배열입니다.

        entries 배열을 forEach 메서드로 순회하면서 각 요소의 가시성 여부를 확인합니다. isIntersecting 속성을 사용하여 요소가 교차되었는지 여부를 판단합니다. 교차되었다면 target
        요소의 클래스에 show를 추가하고, 교차되지 않았다면 show 클래스를 제거합니다.

        마지막으로 querySelectorAll 메서드를 사용하여 .hidden 클래스를 가진 모든 요소를 선택하고, forEach 메서드로 순회하면서 observer.observe(el)을 호출하여 관찰
        대상으로 등록합니다.

        이렇게 구현된 코드는 .hidden 클래스를 가진 요소들의 가시성을 관찰하여 교차 여부에 따라 show 클래스를 추가하거나 제거하는 기능을 제공합니다.
    </P>

    <script>
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('show')
                }
                else {
                    entry.target.classList.remove('show')
                }
            })
        })
        const hiddenEl = document.querySelectorAll('.hidden')
        hiddenEl.forEach((el) => observer.observe(el)) 
    </script>
</body>
</html>